<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="pngtree-us-tax-daily-cartoon-dollar-pattern-png-image_3231724-removebg-preview.png">
    <title>Collect the Penny</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="land" id="l"></div>
    <div class="playarea">
        <div class="playingball" id="ball"></div>
        <div class="hitobject" id="lose"></div>
        <div class="coin" id="money">1</div>
    </div>
    <div class="score">
        <h1>Score: <span id="scoringpoints">0</span></h1>
    </div>
    <div class="settings">
        <i class="fa fa-bars" onclick="document.getElementById('setting').style.left = 0"></i>
    </div>
    <div id="setting">
        <div class="azaan" onclick="document.getElementById('setting').style.left = '-105%'">X</div>
        <div class="ballColor">
            <div class="red" onclick="ball.style.backgroundColor = 'red'"></div>
            <div class="yellow" onclick="ball.style.backgroundColor = 'yellow'"></div>
            <div class="green" onclick="ball.style.backgroundColor = 'green'"></div>
        </div>
        <div class="groundBg">
            <div class="one" onclick="one()"></div>
            <div class="two" onclick="two()"></div>
            <div class="three" onclick="three()"></div>
        </div>
    </div>
    <script>
        var ball = document.getElementById('ball');
        var rightlose;
        var moneyLeft;
        var ret;
        var retret;
        var ballLeft = 0
        var score = 0
        var checkingToJump = false;
        var areYouOnRight = false;
        // ---balljs
        var lose = document.getElementById('lose');
        // -----------ball
        var randomNumber = Math.floor(Math.random() * 81) + 30;
        rightlose = parseFloat(randomNumber.toFixed(1)) * 10;
        function setcoin() {
            var randomNumberCoin = Math.floor(Math.random() * 81) + 30;
            moneyLeft = parseFloat(randomNumberCoin.toFixed(1)) * 10;
            money.style.left = `${moneyLeft}px`;
        }
        setcoin()

        function azaan() {
            ret = window.getComputedStyle(ball)
            retret = ret.getPropertyValue("right");
        }
        setInterval(azaan, 1000)

        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowRight') {
                ballLeft += 10
                ball.style.left = `${ballLeft}px`;
            }
        });
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowLeft') {
                ballLeft -= 10
                ball.style.left = `${ballLeft}px`;
            }
        });
        document.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowUp') {
                var ball = document.getElementById('ball');
                var originalBottom = 0;
                ball.style.bottom = '120px';
                if (ballLeft == moneyLeft && event.key === "ArrowUp") {
                    score++
                    document.getElementById('scoringpoints').innerHTML = score
                    setcoin()
                }
                else if (ballLeft == rightlose - 90 && event.key == "ArrowUp") {
                    checkingToJump = true
                    ball.style.left = `${ballLeft + 200}px`
                    ballLeft += 200
                    areYouOnRight = true

                    setTimeout(function () {
                        checkingToJump = false
                    }, 500);
                }
                else if (ballLeft == rightlose + 80 && event.key == "ArrowUp") {
                    checkingToJump = true
                    ball.style.left = `${ballLeft - 200}px`
                    ballLeft -= 200
                    areYouOnRight = false

                    setTimeout(function () {
                        checkingToJump = false
                    }, 500);
                }

                setTimeout(function () {
                    ball.style.bottom = originalBottom;
                }, 500);
            }
        });
        // -----------ball
        // ----------loose

        lose.style.left = `${rightlose}px`;

        function checkLoseGame() {
            if (ballLeft >= rightlose - 70 && checkingToJump == false && areYouOnRight == false || ballLeft == rightlose + 50 && checkingToJump == false) {
                location.reload()
            }
        }
        setInterval(checkLoseGame, 100)

        function returnBall() {
            if (retret <= `100px`) {
                ballLeft = 0
            }
        }
        setInterval(returnBall, 10)
        function one(){
            document.getElementById("l").style.backgroundImage = 'url("https://img.freepik.com/premium-vector/pixel-grass-ground-stone-blocks-pattern-cubic-pixel-game-background-8bit-gaming-interface-2d-technology-retro-wallpaper-backdrop-with-soil-layer-pebbles-underground-cross-section_8071-7295.jpg?w=2000")'
        }
        function two(){
            document.getElementById("l").style.backgroundImage = 'url("https://img.freepik.com/premium-vector/pixel-game-background-with-snow-ground-pattern_8071-6836.jpg?w=360")'
        }
        function three(){
            document.getElementById("l").style.backgroundImage = 'url("https://png.pngtree.com/thumb_back/fh260/background/20220509/pngtree-cubic-pixel-game-ground-blocks-on-background-pattern-image_1342712.jpg")'
        }
    </script>
</body>

</html>